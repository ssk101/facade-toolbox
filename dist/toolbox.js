var R=Object.defineProperty;var n=(e,t)=>R(e,"name",{value:t,configurable:!0});function H(e,t){return Array.from({length:Math.ceil(e.length/t)},(r,o)=>e.slice(o*t,o*t+t))}n(H,"chunk");function C(e=[]){let t=e.length,r;for(;t;){let o=Math.floor(Math.random()*t--),s=e[t];r=e[t],e[o]=r}return e}n(C,"shuffle");function I(e,t,r=.5){let o,s=Math.round((t[0]-e[0])*r+e[0])*65536+Math.round((t[1]-e[1])*r+e[1])*256+Math.round((t[2]-e[2])*r+e[2]);return e[3]>-1&&t[3]>-1?o=Math.round(((t[3]-e[3])*r+e[3])*255):t[3]>-1?o=Math.round(t[3]*255):e[3]>-1?o=Math.round(e[3]*255):o=255,"#"+(4294967296+o*16777216+s).toString(16).slice(e[3]>-1||t[3]>-1?1:3)}n(I,"blendHex");function E(e,t,r=3){function o(p,m,c){return Math.sqrt((1-c)*Math.pow(p,2)+c*Math.pow(m,2))}n(o,"blendValue");function s(p){let m=new RegExp(/(rgb\(|)(?<r>\d{1,3}),(\s*|)(?<g>\d{1,3}),(\s*|)(?<b>\d{1,3})(\)|)/),c=new RegExp(/^#?(?<r>[a-f\d]{2})(?<g>[a-f\d]{2})(?<b>[a-f\d]{2})$/i),b=p.match(m),u=p.match(c);return b?b.groups:Object.keys(u.groups).reduce((D,O)=>(D[O]=parseInt(u.groups[O],16),D),{})}n(s,"inputToRGB");let[a,i]=[s(e),s(t)];return[...Array(r).keys()].map(p=>["r","g","b"].map(m=>o(a[m],i[m],p*(1/r))))}n(E,"gradient");function z(e=""){let r=parseInt(e,36).toString(16).slice(0,6).padEnd(6,"0").match(/.{1,2}/g).map(a=>+`0x${a}`),o=Math.min.apply(Math,r),s=r.indexOf(Math.min.apply(Math,r));return r[s]=255,{fg:r.map(a=>Math.floor(a).toString(16)).join(""),bg:r.map(a=>Math.floor(a*.35).toString(16)).join("")}}n(z,"generateHexColor");function _(e){let t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e.match(t)&&(e=e.replace(t,(o,s,a,i)=>s+s+a+a+i+i));let r=e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}n(_,"hexToRGB");function F(e){return Object.keys(e).reduce((t,r)=>(t+=r,t+=JSON.stringify(e[r]).replace(/"/g,"").replace(/,/g,";"),t),"")}n(F,"jsonToCSS");function K(e=""){return parseInt(e.toUpperCase(),36).toString(16).slice(0,6).padEnd(6,"0")}n(K,"stringToHexColor");function L(e,t){return Object.keys(e).reduce((r,o)=>(r[o]=+`0x${+t[`--${e[o]}`].replace(/#/,"")}`,r),{})}n(L,"varsToHex");function h(e,t=2){return String(e).padStart(t,0)}n(h,"padStart");function f(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,padStart:2,join:!0},t),s=o.utc?"UTC":"",a=[r[`get${s}FullYear`](),r[`get${s}Month`]()+1,r[`get${s}Date`]()].map(i=>h(i.toString(),o.padStart));return o.join?+a.join(""):a}n(f,"datestamp");function l(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,ms:!1,padStart:2,join:!0},t),s=o.utc?"UTC":"",a=[r[`get${s}Hours`](),r[`get${s}Minutes`](),r[`get${s}Seconds`](),o.ms?r[`get${s}Milliseconds`]():null].filter(i=>i!==null).map(i=>h(i.toString(),o.padStart));return o.join?a.join(""):a}n(l,"timestamp");function V(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,ms:!1,padStart:2},t,{join:!0});return+[f(e,o),l(e,o)].join("")}n(V,"datetimestamp");function G(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,padStart:2,delimiter:"/"},t);return f(e,Object.assign({},o,{join:!1})).join(o.delimiter||"")}n(G,"prettyDate");function W(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,ms:!1,padStart:2,delimiter:":"},t);return l(e,Object.assign({},o,{join:!1})).join(o.delimiter||"")}n(W,"prettyTime");function N(e,t={}){let r=new Date(e||Date.now()),o=Object.assign({},{utc:!1,ms:!1,padStart:2,dateDelimiter:"/",timeDelimiter:":"},t);return[f(e,Object.assign({},o,{join:!1})).join(o.dateDelimiter||""),l(e,Object.assign({},o,{join:!1})).join(o.timeDelimiter||"")].join(" ")}n(N,"prettyDateTime");async function Z(e){if(!e)return"";let t=new FileReader;return t.readAsDataURL(e),new Promise(r=>{t.onloadend=()=>r(t.result)})}n(Z,"imgFromBlob");function J(e,t="png"){if(!e)return"";let r=(()=>typeof btoa=="function"?btoa((e.data||e).reduce((o,s)=>o+String.fromCharCode(s),"")):Buffer.from(e).toString("base64"))();return`data:image/${t};base64,${r}`}n(J,"imgFromBuffer");function S(e,t,r,o){let s=Math.min(r/e,o/t);return{width:e*s,height:t*s}}n(S,"resizeWithAspectRatio");function Y(e,t,r,o=!0){if(typeof document=="undefined")throw new Error("Must run in browser context");return new Promise(s=>{let a=n((p,m)=>{let c=document.createElement("canvas"),b=c.getContext("2d"),u=[t||p,r||m];return Object.assign(c,o?S(p,m,u[0],u[1]):{width:u[0],height:u[1]}),b.drawImage(i,0,0,c.width,c.height),c.toDataURL()},"draw"),i=new Image;i.src=e,i.onload=()=>{s(a(i.width,i.height))}})}n(Y,"imgToDataUri");function q(e){let t=32768,r=new Uint8Array(e),o="";for(let s=0;s<Math.ceil(r.length/t);s++)o+=String.fromCharCode.apply(null,r.slice(s*t,Math.min((s+1)*t,r.length)));return`data:image/webp;base64,${btoa(o)}`}n(q,"bytesToBase64");function M(e,t,r){return Math.max(+t,Math.min(+e,+r))}n(M,"clamp");function X(e,t=1){return[typeof e=="string",typeof e?.[Symbol.iterator]!="function"].some(s=>s)?void 0:[["number","string"].includes(typeof t),!isNaN(t)].every(s=>s)?C(Array.from(e)).slice(0,M(Math.abs(t),1,e.length||e.size)):[]}n(X,"randomItems");function Q(e,t){return Math.floor(Math.random()*(t-e+1)+e)}n(Q,"randomInt");function d(e){return e||(e=""),e.replace(/([A-Z])/g,(t,r)=>" "+r.toLowerCase()).replace(/[_\- ]+(.)/g," $1").trim()}n(d,"sentenceCase");function g(e){return d(e).replace(/\s(.)/g,(t,r)=>r.toUpperCase())}n(g,"camelCase");function k(e){return Array.isArray(e)?e.map(t=>k(t)):e!=null&&e.constructor===Object?Object.keys(e).reduce((t,r)=>({...t,[g(r)]:k(e[r])}),{}):e}n(k,"camelKeys");function $(e){return d(e).replace(/[ ]/g,"_")}n($,"snakeCase");function ee(e,t={}){let r={},o=Object.assign({},e,t);for(let s in o)r[$(s)]=o[s];return r}n(ee,"snakeKeys");function x(e){return d(e).replace(/[ ]/g,"-")}n(x,"kebabCase");function te(e,t={}){let r={},o=Object.assign({},e,t);for(let s in o)r[x(s)]=o[s];return r}n(te,"kebabKeys");function v(e){return e?typeof e=="string"?e:Object.keys(e).reduce((t,r)=>{let o=e[r];return typeof o=="object"&&o!==null?t+=`${r} {
${v(o)}}
`:(r.startsWith("--")||(r=x(r)),t+=`${r}: ${o};
`),t},""):""}n(v,"objectToStyle");function A(e,t=[]){return new Proxy(e,{get(r,o,s){return typeof r[o]=="object"?(Object.defineProperty(r[o],"parentPath",{get:()=>t}),A(r[o],t.concat([o]))):typeof r[o]=="function"?r[o].bind({get parentPath(){return t},...r}):r[o]}})}n(A,"objectWithPath");function re(e={},t){return Object.entries(e).reduce((r,[o,s])=>(r[t(o,s)]=s,r),{})}n(re,"mapKeys");function oe(e={},t){return new Proxy(e,{set:function(r,o,s){return typeof t=="function"&&t({property:o,previousValue:r[o],newValue:s}),Reflect.set(...arguments)},deleteProperty:function(r,o){return t({property:o,previousValue:r[o],newValue:null}),!0}})}n(oe,"changedProxy");function ne(e){let t=[];return g(e).replace(/^[a-z]|[A-Z]/g,r=>{t.push(r)}),t.join("").toUpperCase()}n(ne,"abbreviationCase");function se(e){return e||(e=""),e.replace(/([A-Z])/g,(t,r)=>" "+r.toLowerCase()).replace(/[_\- ]+(.)/g," $1").trim().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}n(se,"humanCase");function ae(e=""){let t=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/;return e.match(t)}n(ae,"validURL");var ie={decode(e){return(+e).toString(36).toUpperCase()},encode(e){return parseInt(e,36)},random(e,t){return Math.floor(Math.random()*(t-e+1)+e).toString(36).toUpperCase()}};var ce=[...Array(10)].map((e,t)=>String.fromCharCode(t+48)),pe=[...Array(26)].map((e,t)=>String.fromCharCode(t+97)),me=[...Array(26)].map((e,t)=>String.fromCharCode(t+65)),U=ce.concat(pe).concat(me),ue={encode(e){if(e===0)return 0;let t=[];for(;e>0;)t=[U[e%62],...t],e=Math.floor(e/62);return t.join("")},decode(e){return e.split("").reverse().reduce((t,r,o)=>t+U.indexOf(r)*62**o,0)}};var B=[...Array(26)].map((e,t)=>String.fromCharCode(t+65)),fe=[...Array(10).keys()],le=B.join("")+B.join("").toLowerCase()+fe.join("");function de(e=5,t){t||(t=le);let r=[];for(;r.length<e;){let o=t.charAt(Math.floor(Math.random()*t.length));r.indexOf(o)==-1&&r.push(o)}return r.join("")}n(de,"randomChars");var P={construct(){return P}};function T(e){try{return!!new new Proxy(e,P)}catch(t){return!1}}n(T,"isConstructor");var y=class extends Map{constructor(t,r="CacheMap",o=console){super();T(o)?this.logger=new o(r):this.logger=o,this.maxSize=t,this.namespace=r}set(t,r){return this.size+1>=this.maxSize&&(this.logger&&typeof this.logger=="function"&&this.logger([`Unshifting ${this.namespace} due to imminent overflow.`,`Current size: ${this.size}.`].join(" ")),this.delete(Array.from(this.keys())[0])),super.set(t,r)}};n(y,"CacheMap");var j=class{constructor(t){this.methods=["error","warn","debug","info","log","table"];for(let r of this.methods)this[r]=function(){let o=Array.prototype.slice.call(arguments);return this.prefix&&o.unshift(this.prefix),console[r].apply(console,o)}}};n(j,"Logger");var w=class extends j{constructor(t="HeapLogger"){super();this.namespace=t}get prefix(){return`[${this.namespace}] [${this.heap}]`}get relevantHeap(){return this.serverHeap||this.clientHeap||0}get heap(){let{value:t,unit:r}=this.bytesToUnit(this.relevantHeap);return`${t} ${r}`}bytesToUnit(t,r=2){if(!t)return 0;let o=1024,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(o));return{value:parseFloat((t/Math.pow(o,a)).toFixed(r)),unit:s[a]}}get clientHeap(){if(typeof window=="object"&&window.performance?.memory)return window.performance.memory.usedJSHeapSize||0}get serverHeap(){if(typeof process=="object"&&process.memoryUsage)return process.memoryUsage().heapUsed||0}};n(w,"HeapLogger");async function he(e=1e3){return new Promise(t=>setTimeout(t,e))}n(he,"wait");export{y as Cache,y as CacheMap,w as Heap,w as HeapLogger,j as Logger,ne as abbreviationCase,ie as base36,ue as base62,I as blendHex,q as bytesToBase64,g as camelCase,k as camelKeys,oe as changedProxy,H as chunk,M as clamp,f as datestamp,V as datetimestamp,z as generateHexColor,E as gradient,_ as hexToRGB,se as humanCase,Z as imgFromBlob,J as imgFromBuffer,Y as imgToDataUri,T as isConstructor,F as jsonToCSS,x as kebabCase,te as kebabKeys,re as mapKeys,v as objectToStyle,A as objectWithPath,h as padStart,G as prettyDate,N as prettyDateTime,W as prettyTime,de as randomChars,Q as randomInt,X as randomItems,S as resizeWithAspectRatio,d as sentenceCase,C as shuffle,$ as snakeCase,ee as snakeKeys,K as stringToHexColor,l as timestamp,ae as validURL,L as varsToHex,he as wait};
